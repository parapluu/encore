class Actor
  var id : int
  var next : Actor
  def init(id : int) : unit
    this.id = id
  end
  def create_ring(id : int, ring_size : int, fst : Actor) : unit
    if id <= ring_size then
      this.next = new Actor(id)
      this.next!create_ring(id + 1, ring_size, fst)
    else
      this.next = fst
    end
  end
  def send(hops : int) : unit
    if hops > 0 then
      this.next!send(hops - 1)
    else
      println(this.id)
    end
  end
end
class Main
  def main() : unit
    let
      a = new Actor(1)
    in
      a!create_ring(2, 503, a)
      a!send(50 * 1000 * 1000)
    end
  end
end
