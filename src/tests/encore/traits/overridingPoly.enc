trait T<a>
  require f : a
  require id(x : T<a>) : T<a>
  def foo() : a
    this.f
  def bar() : a
    this.f

passive class C : T<int>
  f : int
  def init(f : int) : void
    this.f = f
  def id(x : T<int>) : T<int>
    x
  def foo() : int {
    this.id(this).bar();
  }

class Main
  def main() : void
    print (new C(42)).foo()