import ParT.ParT

class T {
  def getValue<t>(x: t): t x
  def getPar(x: int): Par int liftv(x)
}

def cmpInt(x: int, y: int): int
  if (x > y) then 1
  else if (x < y) then -1
  else 0


class Main

  def testUnion(): void {
    val p1 = liftf((new T).getValue(12)) || liftf((new T).getValue(23));
    val p2 = (join(liftf((new T).getPar(42)))) || liftv(2) || liftv(2) || liftv(3);
    val result = union(p1, p2, cmpInt);
    for v in extract(result) {
      print("Results: {}\n", v);
    }
  }

  def main(): void {
    this.testUnion();
  }
