def multiDimAcces(): void {
  let n = 2
      m = 3
      arr = new [[int]](n) in
    repeat i <- |arr| {
      arr[i] = new [int](m);
      repeat j <- |arr[i]| {
        arr[i,j] = m * i + j;
        print arr[i,j]
      }
    }
}

class Foo
  def return() : [int]
    new [int](10)
  def foo(m:Main) : void
    let
      a = this.return()
    in {
      repeat i <- 10
        a[i] = i;
      m ! continue(a)
    }

class Main
  def continue(a:[int]) : void
    let
        b = ["foo", "bar"]
    in {
      repeat i <- |a|
        print a[i];
      print b[0];
      print b[1];
    }

  def main() : void
    let
      x = new Foo
    in {
      multiDimAcces();
      x ! foo(this)
      }
