class Main {
  a : Agent

  def main() : void {
     this.a = new Agent();
     this.perform(1000)
   }

   def perform(n:int) : void {
     if n == 0 then {
       print("done");
     } else {
       this.a.go(this.a);
       new [int](100);
       this!perform(n-1)
     }
   }
}

class Agent {
   def go(a:Agent) : void ()
}
