def global(x : Foo) : void
  print "In global"

trait Foo
  def foo() : void
    print "In Foo"

trait Bar

trait Baz

passive class C1 : Foo + Bar
passive class C2 : Foo + Baz
passive class C3 : Baz + Foo

class Main
  def main(): void{
    val x = match 1 with
              0 => new C1()
              1 => new C2()
              2 => new C3()
              3 => null;
    val y = match 1 with
              0 => Just new C1()
              1 => Just new C2()
              2 => Just new C3()
              3 => Nothing;
    match y with
      Just z => {x.foo(); global(z)}
      Nothing => ()
  }
