import Active.Active

def getActiveInt() : Active<int> {
  new Active<int>(\ () -> 1)
}

def testInit() : void {
  getActiveInt();
}

def testGetState() : void {
  let a = getActiveInt() in {
    assertTrue(1 == get a.getState());
    a.apply(\ (i:int) -> i+1);
    assertTrue(2 == get a.getState());
  }
}

class Main {
  def main() : void {
    testInit();
    testGetState();
  }
}
